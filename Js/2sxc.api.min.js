!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(n(1),n(2)),o=(n.n(r),n(3)),i=(n.n(o),n(4)),a=(n.n(i),n(5)),c=(n.n(a),n(6));n.n(c);window.$2sxc||(window.$2sxc=ToSic.Sxc.buildSxcController())},function(t,e,n){"use strict";var r;!function(t){!function(t){function e(e,n){var o=window.$2sxc;if(!o._controllers)throw"$2sxc not initialized yet";if("object"==typeof e){var i=r(e);e=i[0],n=i[1]}n||(n=e);var a=e+":"+n;return o._controllers[a]?o._controllers[a]:(o._data[a]||(o._data[a]={}),o._controllers[a]=new t.SxcInstanceWithInternals(e,n,a,o,$.ServicesFramework))}function n(){var n=new t.UrlParamManager,r={load:"true"===n.get("debug"),uncache:n.get("sxcver")},o={_controllers:{},sysinfo:{version:"09.05.02",description:"The 2sxc Controller object - read more about it on 2sxc.org"},beta:{},_data:{},totalPopup:new t.TotalPopup,urlParams:n,debug:r,parts:{getUrl:function(t,e){var n=e||!r.load?t:t.replace(".min","");return r.uncache&&-1===n.indexOf("sxcver")&&(n=n+(-1===n.indexOf("?")?"?":"&")+"sxcver="+r.uncache),n}}};for(var i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e}function r(t){var e=$(t).closest(".sc-content-block")[0];if(!e)return null;var n=e.getAttribute("data-cb-instance"),r=e.getAttribute("data-cb-id");return n&&r?[n,r]:null}t.buildSxcController=n}(t.Sxc||(t.Sxc={}))}(r||(r={}))},function(t,e){var n;!function(t){!function(t){var e=function(){function t(t){this.controller=t,this.source=void 0,this.in={},this.List=[]}return t.prototype.sourceUrl=function(t){var e=this.controller.resolveServiceUrl("app-sys/appcontent/GetContentBlockData");return"string"==typeof t&&(e+="&"+t),e},t.prototype.load=function(t){var e=this;return t&&t.List?this.controller.data:(t||(t={}),t.url||(t.url=this.controller.data.sourceUrl()),t.origSuccess=t.success,t.success=function(n){for(var r in n)n.hasOwnProperty(r)&&null!==n[r].List&&(e.controller.data.in[r]=n[r],e.controller.data.in[r].name=r);e.controller.data.in.Default&&(e.List=e.in.Default.List),t.origSuccess&&t.origSuccess(e),e.controller.isLoaded=!0,e.controller.lastRefresh=new Date,e._triggerLoaded()},t.error=function(t){alert(t.statusText)},t.preventAutoFail=!0,this.source=t,this.reload())},t.prototype.reload=function(){return this.controller.webApi.get(this.source).then(this.source.success,this.source.error),this},t.prototype.on=function(t,e){return $(this).bind("2scLoad",e)[0]._triggerLoaded()},t.prototype._triggerLoaded=function(){return this.controller.isLoaded?$(this).trigger("2scLoad",[this])[0]:this},t.prototype.one=function(t,e){return this.controller.isLoaded?(e({},this),this):$(this).one("2scLoad",e)[0]},t}();t.SxcDataWithInternals=e}(t.Sxc||(t.Sxc={}))}(n||(n={}))},function(t,e){var n,r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){!function(t){var e=function(){function e(e,n,r){this.id=e,this.cbid=n,this.dnnSf=r,this.serviceScopes=["app","app-sys","app-api","app-query","app-content","eav","view","dnn"],this.serviceRoot=r(e).getServiceRoot("2sxc"),this.webApi=new t.SxcWebApiWithInternals(this,e,n)}return e.prototype.resolveServiceUrl=function(t){var e=t.split("/")[0].toLowerCase();return-1===this.serviceScopes.indexOf(e)?t:this.serviceRoot+e+"/"+t.substring(t.indexOf("/")+1)},e.prototype.showDetailedHttpError=function(t){if(window.console&&console.log(t),404===t.status&&t.config&&t.config.url&&t.config.url.indexOf("/dist/i18n/")>-1)return window.console&&console.log("just fyi: failed to load language resource; will have to use default"),t;if(0===t.status||-1===t.status)return t;var e="Had an error talking to the server (status "+t.status+").",n=t.responseText?JSON.parse(t.responseText):t.data;if(n){var r=n.Message;r&&(e+="\nMessage: "+r);var o=n.MessageDetail||n.ExceptionMessage;o&&(e+="\nDetail: "+o),o&&0===o.indexOf("No action was found")&&(o.indexOf("that matches the name")>0?e+="\n\nTip from 2sxc: you probably got the action-name wrong in your JS.":o.indexOf("that matches the request.")>0&&(e+="\n\nTip from 2sxc: Seems like the parameters are the wrong amount or type.")),r&&0===r.indexOf("Controller")&&r.indexOf("not found")>0&&(e+="\n\nTip from 2sxc: you probably spelled the controller name wrong or forgot to remove the word 'controller' from the call in JS. To call a controller called 'DemoController' only use 'Demo'.")}return e+="\n\nif you are an advanced user you can learn more about what went wrong - discover how on 2sxc.org/help?tag=debug",alert(e),t},e}();t.SxcInstance=e;var n=function(t){function e(e,n,r,o){var i=t.call(this,e,n,o)||this;i.id=e,i.cbid=n,i.$2sxc=r,i.dnnSf=o,i.manage=null;try{r._manage&&r._manage.initInstance(i)}catch(t){throw t}return r._translateInit&&i.manage&&r._translateInit(i.manage),i}return r(e,t),e.prototype.isEditMode=function(){return this.manage&&this.manage._isEditMode()},e}(e);t.SxcInstanceWithEditing=n;var o=function(e){function n(n,r,o,i,a){var c=e.call(this,n,r,i,a)||this;return c.id=n,c.cbid=r,c.cacheKey=o,c.$2sxc=i,c.dnnSf=a,c.source=null,c.isLoaded=!1,c.lastRefresh=null,c.data=new t.SxcDataWithInternals(c),c}return r(n,e),n.prototype.recreate=function(t){return t&&delete this.$2sxc._controllers[this.cacheKey],this.$2sxc(this.id,this.cbid)},n}(n);t.SxcInstanceWithInternals=o}(t.Sxc||(t.Sxc={}))}(n||(n={}))},function(t,e){var n;!function(t){!function(t){var e=function(){function t(){this.frame=void 0,this.callback=void 0}return t.prototype.open=function(t,e){for(var n=10000010,r=window;r!==window.top&&n<10000100;)n++,r=r.parent;var o=document.createElement("div");o.setAttribute("style"," top: 0;left: 0;width: 100%;height: 100%; position:fixed; z-index:"+n),document.body.appendChild(o);var i=document.createElement("iframe");i.setAttribute("allowtransparency","true"),i.setAttribute("style","top: 0;left: 0;width: 100%;height: 100%;"),i.setAttribute("src",t),o.appendChild(i),document.body.className+=" sxc-popup-open",this.frame=i,this.callback=e},t.prototype.close=function(){if(this.frame){document.body.className=document.body.className.replace("sxc-popup-open","");var t=this.frame;t.parentNode.parentNode.removeChild(t.parentNode),this.callback()}},t.prototype.closeThis=function(){window.parent.$2sxc.totalPopup.close()},t}();t.TotalPopup=e}(t.Sxc||(t.Sxc={}))}(n||(n={}))},function(t,e){var n;!function(t){!function(t){var e=function(){function t(){}return t.prototype.get=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e,n=new RegExp("[\\?&]"+t+"=([^&#]*)","i"),r=n.exec(location.search);if(null===r){r=new RegExp("[#&]"+t+"=([^&#]*)","i").exec(location.hash)}if(null===r){var o=window.location.pathname.match(new RegExp("/"+t+"/([^/]+)","i"));o&&o.length>1&&(e=o.reverse()[0])}else e=r[1];return null===e||void 0===e?"":decodeURIComponent(e.replace(/\+/g," "))},t.prototype.require=function(t){var e=this.get(t);if(""===e){var n="Required parameter ("+t+") missing from url - cannot continue";throw alert(n),n}return e},t}();t.UrlParamManager=e}(t.Sxc||(t.Sxc={}))}(n||(n={}))},function(t,e){var n;!function(t){!function(t){var e=function(){function t(t,e,n){this.controller=t,this.id=e,this.cbid=n}return t.prototype.get=function(t,e,n,r){return this.request(t,e,n,r,"GET")},t.prototype.post=function(t,e,n,r){return this.request(t,e,n,r,"POST")},t.prototype.delete=function(t,e,n,r){return this.request(t,e,n,r,"DELETE")},t.prototype.put=function(t,e,n,r){return this.request(t,e,n,r,"PUT")},t.prototype.request=function(t,e,n,r,o){if("object"!=typeof e&&void 0!==e&&(e={id:e}),"string"==typeof t){var i=t.split("/"),a=i[0],c=i[1];""!==a&&""!==c||alert("Error: controller or action not defined. Will continue with likely errors."),t={controller:a,action:c,params:e,data:n,url:i.length>2?t:null,preventAutoFail:r}}var s={method:null===o?"POST":o,params:null,preventAutoFail:!1};t=$.extend({},s,t);var l=$.ServicesFramework(this.id),u=$.ajax({async:!0,dataType:t.dataType||"json",data:JSON.stringify(t.data),contentType:"application/json",type:t.method,url:this.getActionUrl(t),beforeSend:function(t){t.setRequestHeader("ContentBlockId",this.cbid),l.setModuleHeaders(t)}});return t.preventAutoFail||u.fail(this.controller.showDetailedHttpError),u},t.prototype.getActionUrl=function(t){var e=$.ServicesFramework(this.id);return(t.url?this.controller.resolveServiceUrl(t.url):e.getServiceRoot("2sxc")+"app/auto/api/"+t.controller+"/"+t.action)+(null===t.params?"":"?"+$.param(t.params))},t}();t.SxcWebApiWithInternals=e}(t.Sxc||(t.Sxc={}))}(n||(n={}))}]);
//# sourceMappingURL=2sxc.api.min.js.map
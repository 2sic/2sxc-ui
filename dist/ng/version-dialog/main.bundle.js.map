{"version":3,"sources":["webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/version-dialog/version-dialog.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.scss","webpack:///./src/app/version-dialog/dialog.component.scss","webpack:///./src/app/version-dialog/dialog.component.html","webpack:///./src/app/version-dialog/dialog.component.ts","webpack:///./src/app/version-dialog/sxc-versions.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 117;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 117\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { MdDialog } from '@angular/material';\nimport { DialogComponent } from \"app/version-dialog/dialog.component\";\n\ndeclare const window;\n\n@Component({\n  selector: 'app-root',\n  template: '',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  constructor(\n    private dialog: MdDialog\n  ) {\n    this.dialog.open(DialogComponent).afterClosed()\n      .subscribe(() => window.parent.postMessage('closeFrame', window.origin));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { MaterialModule, MdDialogModule, MdToolbarModule } from \"@angular/material\";\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\n\nimport { AppComponent } from './app.component';\nimport { VersionDialogModule } from \"app/version-dialog/version-dialog.module\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    MdDialogModule,\n    MdToolbarModule,\n    BrowserAnimationsModule,\n    MaterialModule,\n    FlexLayoutModule,\n    VersionDialogModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SxcVersionsService } from \"app/version-dialog/sxc-versions.service\";\nimport { DialogComponent, ConfirmRestoreDialog } from \"app/version-dialog/dialog.component\";\nimport { MaterialModule } from \"@angular/material\";\n\n@NgModule({\n  exports: [\n    DialogComponent\n  ],\n  imports: [\n    CommonModule,\n    MaterialModule\n  ],\n  providers: [\n    SxcVersionsService\n  ],\n  declarations: [\n    DialogComponent,\n    ConfirmRestoreDialog\n  ],\n  entryComponents: [\n    DialogComponent,\n    ConfirmRestoreDialog,\n  ],\n})\nexport class VersionDialogModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/version-dialog/version-dialog.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  position: fixed;\\n  left: 0;\\n  top: 0;\\n  right: 0;\\n  bottom: 0; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.scss\n// module id = 199\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  width: 1000px;\\n  max-width: 100%;\\n  display: block;\\n  background: #fafafa; }\\n  :host md-toolbar {\\n    background: transparent;\\n    color: black; }\\n    :host md-toolbar .spacer {\\n      -webkit-box-flex: 1;\\n          -ms-flex: 1 1 auto;\\n              flex: 1 1 auto; }\\n    :host md-toolbar .title {\\n      font-weight: 300; }\\n  :host .table {\\n    padding: 8px; }\\n    :host .table .header {\\n      line-height: 48px;\\n      font-weight: 400;\\n      padding: 0 22px;\\n      color: rgba(0, 0, 0, 0.6); }\\n    :host .table .record md-expansion-panel {\\n      transition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1), margin 280ms ease; }\\n      :host .table .record md-expansion-panel.mat-expanded {\\n        margin: 16px 0 !important; }\\n      :host .table .record md-expansion-panel .detail {\\n        padding: 8px 0;\\n        line-height: 28px;\\n        box-sizing: border-box; }\\n        :host .table .record md-expansion-panel .detail .label {\\n          color: rgba(0, 0, 0, 0.6); }\\n      :host .table .record md-expansion-panel md-action-row button {\\n        margin-left: 8px; }\\n  :host footer {\\n    padding: 16px 22px; }\\n    :host footer button {\\n      margin-left: 8px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/version-dialog/dialog.component.scss\n// module id = 200\n// module chunks = 1","module.exports = \"<md-toolbar color=\\\"primary\\\">\\n  <span class=\\\"title\\\">Versions of this item</span>\\n  <span class=\\\"spacer\\\"></span>\\n  <button md-dialog-close md-icon-button>\\n    <md-icon class=\\\"example-icon\\\">close</md-icon>\\n  </button>\\n</md-toolbar>\\n<div class=\\\"table\\\">\\n  <div class=\\\"record\\\" *ngFor=\\\"let version of sxcVersion.versions | async\\\">\\n    <md-expansion-panel>\\n      <md-expansion-panel-header>\\n        <md-panel-title fxFlex=\\\"108px\\\">Version {{version.VersionNumber}}</md-panel-title>\\n        <md-panel-description>{{version.TimeStamp}}, by {{version.User}}</md-panel-description>\\n      </md-expansion-panel-header>\\n      <!--<div class=\\\"detail\\\">\\n        <div fxLayout=\\\"row\\\" *ngFor=\\\"let data of version.data\\\">\\n          <div fxFlex=\\\"96px\\\" class=\\\"label\\\">{{data.label}}:</div>\\n          <div fxFlex class=\\\"value\\\">{{data.value}}</div>\\n        </div>\\n      </div>-->\\n      <md-action-row>\\n        <button md-button (click)=\\\"restoreDraft(version)\\\">RESTORE AS DRAFT</button>\\n        <button md-button (click)=\\\"restoreLive(version)\\\">RESTORE LIVE</button>\\n      </md-action-row>\\n    </md-expansion-panel>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/version-dialog/dialog.component.html\n// module id = 201\n// module chunks = 1","import { Component, OnInit, Input, Inject } from '@angular/core';\nimport { MdDialog, MdDialogRef, MD_DIALOG_DATA } from \"@angular/material\";\nimport { trigger, style, transition, animate, state } from \"@angular/animations\";\nimport { SxcVersionsService } from \"app/version-dialog/sxc-versions.service\";\nimport { Version } from \"app/version-dialog/version\";\n\n@Component({\n  selector: 'app-dialog',\n  templateUrl: './dialog.component.html',\n  styleUrls: ['./dialog.component.scss'],\n})\nexport class DialogComponent {\n  versions: Version[] = [];\n\n  constructor(\n    private dialog: MdDialog,\n    public sxcVersion: SxcVersionsService\n  ) { }\n\n  restoreLive(version) {\n    this.dialog\n      .open(ConfirmRestoreDialog, {\n        data: { version },\n      }).afterClosed()\n      .subscribe(res => res ? alert('restoring live') : undefined);\n  }\n\n  restoreDraft(version) {\n    this.dialog.open(ConfirmRestoreDialog, {\n      data: { version, isDraft: true },\n    }).afterClosed()\n    .subscribe(res => res ? alert('restoring draft') : undefined);\n  }\n}\n\n@Component({\n  selector: 'confirm-restore-dialog',\n  template: `\n    <div class=\"content\">\n      <div class=\"title\">Restoring {{data.isDraft ? 'draft' : 'live'}} to version <b>{{data.version.version}}</b>.</div>\n      <div fxLayout=\"row\">\n        <button md-button [md-dialog-close]=\"false\">abort</button>\n        <span fxFlex></span>\n        <button md-raised-button [md-dialog-close]=\"true\">proceed</button>\n      </div>\n    </div>\n  `,\n})\nexport class ConfirmRestoreDialog {\n  constructor(\n    public dialogRef: MdDialogRef<ConfirmRestoreDialog>,\n    @Inject(MD_DIALOG_DATA) public data: any\n  ) { }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/version-dialog/dialog.component.ts","import { Injectable } from '@angular/core';\nimport { Headers, RequestOptions, RequestOptionsArgs, Http } from '@angular/http';\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\nimport { ReplaySubject } from \"rxjs/ReplaySubject\";\nimport { Version } from \"app/version-dialog/version\";\nimport { Observable } from \"rxjs/Observable\";\n\ndeclare const $2sxc;\n\n@Injectable()\nexport class SxcVersionsService {\n  versions: Observable<Version[]>;\n\n  private versionsSubject: ReplaySubject<Version[]>;\n  private apiUrl;\n\n  constructor(\n    private http: Http\n  ) {\n    this.versionsSubject = new ReplaySubject<Version[]>(1);\n    this.versions = this.versionsSubject.asObservable();\n    this.apiUrl = $2sxc.urlParams.require('portalroot') + 'desktopmodules/2sxc/api/';\n    this.loadVersions();\n  }\n\n  private loadVersions(): void {\n    let appId = $2sxc.urlParams.require('appId');\n    let tabId = $2sxc.urlParams.require('tid');\n    let cbId = $2sxc.urlParams.require('cbid');\n    let modId = $2sxc.urlParams.require('mid');\n\n    let url = `${this.apiUrl}eav/entities/history?appId=${appId}&entityId=3581`;\n\n    let headers = new Headers();\n    headers.append('TabId', tabId);\n    headers.append('ModuleId', modId);\n    headers.append('ContentBlockId', cbId);\n    let options = new RequestOptions({ headers: headers });\n\n    this.http.get(url, options)\n      .map(res => res.json())\n      .subscribe(v => this.versionsSubject.next(v));\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/version-dialog/sxc-versions.service.ts"],"sourceRoot":""}
<div>
    <div class="modal-header">
        <button icon="remove" class="btn btn-default btn-square btn-subtle pull-right" type="button" ng-click="vm.close()"></button>
        <h3 class="modal-title" translate="AppManagement.Title"></h3>
    </div>
    <div class="modal-body">
        <uib-tabset>
            <uib-tab>
                <uib-tab-heading>
                    <span uib-tooltip="{{'AppManagement.Tab.Apps' | translate }}">
                        <i icon="home"></i> {{'AppManagement.Tab.Apps' | translate | trustHtml }}
                    </span>
                </uib-tab-heading>

                <span class="btn-group">
                    <button type="button" class="btn btn-primary" ng-click="vm.browseCatalog()">
                        <span icon="search"></span> {{ 'AppManagement.Buttons.Browse' | translate }}
                    </button>
                    <button type="button" class="btn" ng-click="vm.import()">
                        <span icon="import" uib-tooltip="{{ 'AppManagement.Buttons.Import' | translate }}"></span>
                    </button>

                    <button type="button" class="btn" ng-click="vm.add()">
                        <span icon="plus" uib-tooltip="{{ 'AppManagement.Buttons.Create' | translate }}"></span>
                    </button>
                    <button type="button" class="btn" ng-click="vm.refresh()">
                        <span icon="repeat" uib-tooltip="{{ 'AppManagement.Buttons.Reload' | translate }}"></span>
                    </button>
                </span>
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th translate="AppManagement.Table.Name"></th>
                        <th translate="AppManagement.Table.Folder"></th>
                        <!--<th translate="AppManagement.Table.Templates"></th>-->
                        <th> <span icon="eye-open" uib-tooltip="{{ 'AppManagement.Table.Show' | translate }}"></span></th>
                        <th translate="AppManagement.Table.Actions"></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in vm.items | orderBy:'Title'" ng-click="vm.manage(item)">
                        <td class="clickable">
                            <span uib-tooltip="
Id: {{item.Id}}
Guid: {{item.Guid}}">{{item.Name}}</span>
                        </td>
                        <td class="clickable">{{item.Folder}}</td>
                        <!--<td></td>-->
                        <td><span icon="{{ item.IsHidden ? 'eye-close' : 'eye-open' }}"></span> </td>
                        <td stop-event="click">
                            <!--<button icon="cog" ng-disabled="!item.IsApp" type="button" class="btn btn-xs" ng-click="vm.config(item)"></button>-->
                            <!-- disabled export because there's no good way to pass the app-id to the dialog with dependency injection - part of #887 -->
                            <!--<button icon="export" class="btn btn-xs" type="button" ng-click="vm.export(item)"></button>-->
                            <button icon="remove" ng-disabled="{{!item.IsApp}}" type="button" class="btn btn-xs" ng-click="vm.tryToDelete(item)"></button>
                        </td>
                    </tr>
                    <tr ng-if="!vm.items.length">
                        <td colspan="100" translate="General.Messages.NothingFound"></td>
                    </tr>
                    </tbody>
                </table>
            </uib-tab>
            <uib-tab>
                <uib-tab-heading>
                    <span uib-tooltip="{{'AppManagement.Tab.Settings' | translate }}">
                        <i icon="home"></i> {{'AppManagement.Tab.Settings' | translate | trustHtml }}
                    </span>
                </uib-tab-heading>

                <span class="btn-group">
                    <button type="button" class="btn" ng-click="vm.languages()">
                        <span icon="globe" uib-tooltip="{{ 'AppManagement.Buttons.Languages' | translate }}"></span>
                        {{ 'AppManagement.Buttons.Languages' | translate }}
                    </button>
                    <button type="button" class="btn" ng-click="vm.features()">
                        <span icon="globe" uib-tooltip="{{ 'AppManagement.Buttons.Features' | translate }}"></span>
                        {{ 'AppManagement.Buttons.Features' | translate }}
                    </button>
                </span>
                <!-- todo STV
                show a table here with the features, from the API call system/features
                hide the table if manage features is clicked, because then it should show the iframe
                -->
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Enabled</th>
                            <th>Expires</th>
                            <th>Public</th>
                            <th>Ui</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in vm.loadFeatures">
                            <td>{{item.Id}}</td>
                            <td>{{item.Enabled}}</td>
                            <td>{{item.Expires}}</td>
                            <td>{{item.Public}}</td>
                            <td>{{item.Ui}}</td>
                        </tr>
                        <tr ng-if="!vm.loadFeatures.length">
                            <td colspan="100" translate="General.Messages.NothingFound"></td>
                        </tr>
                    </tbody>
                </table>

                <!-- todo STV -->
                <!--
    put iframe here - which will call the special router url from system-ManageFeaturesUrl
        note that the iframe should be hidden, till someone clicks manage-features

    -->
                <!-- todo 2dm: icons & languages-->

            </uib-tab>

        </uib-tabset>
    </div>
</div>
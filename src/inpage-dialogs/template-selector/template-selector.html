<div class="sc-selectors-wrapper">
    <ng-form name="vm.form">
        <div class="sc-selectors">
            <!-- App Selector - only relevant in App-Mode -->
            <div ng-show="!vm.isContentApp" style="overflow:hidden;">
                <select ng-model="vm.appId" class="sc-selector-app input-lg pull-left" ng-options="a.AppId as (a.Name.indexOf('TemplatePicker.') === 0 ? '[+] ' + (a.Name | translate) : a.Name) for a in vm.apps"
                    ng-disabled="vm.dashInfo.hasContent">
                <option value="" ng-disabled="vm.appId != null" translate="TemplatePicker.AppPickerDefault"></option>
            </select>
                <span>
                <span ng-if="vm.showAdvanced && !vm.isContentApp">
                    <button type="button" class="btn btn-default"
                            ng-show="vm.appId != null"
                            ng-click="vm.appSettings();"
                            title="{{ 'TemplatePicker.App' | translate }}">
                        <i class="eav-icon-settings"></i>
                    </button>
                    <button type="button" class="btn btn-default"
                            ng-click="vm.appImport();"
                            title="{{ 'TemplatePicker.Install' | translate }}">
                        <i class="eav-icon-plus"></i>
                    </button>
                    <button type="button" class="btn btn-default"
                            ng-click="vm.appStore();"
                            title="{{ 'TemplatePicker.Catalog' | translate }}">
                        <i class="eav-icon-cart-arrow-down"></i>
                    </button>
                    <button type="button" class="btn btn-default"
                            ng-click="vm.manageApps();"
                            title="{{ 'TemplatePicker.Zone' | translate }}">
                        <i class="eav-icon-manage"></i>
                    </button>
                </span>
                </span>
            </div>

            <!-- content type selector, only for content-mode -->
            <select ng-show="vm.isContentApp" ng-model="vm.contentTypeId" class="input-lg" ng-options="c.StaticName as c.Label for c in vm.contentTypes | filter: { IsHidden : false } | orderBy: 'Label'"
                ng-disabled="vm.dashInfo.hasContent || vm.dashInfo.isList">
            <option ng-disabled="vm.contentTypeId != ''" value="" translate="TemplatePicker.ContentTypePickerDefault"></option>
        </select>
            
            <!-- view / template selector -->
            <div>
                <select ng-show="vm.isContentApp ? vm.contentTypeId != 0 : (vm.savedAppId != null)" x="( && vm.filteredTemplates().length > 1)"
                    ng-disabled="vm.templateId && vm.filteredTemplates().length <= 1" class="input-lg pull-left" ng-model="vm.templateId"
                    ng-options="t.TemplateId as t.Name for t in vm.filteredTemplates(vm.contentTypeId)"></select>

                <button ng-show="vm.templateId != null && vm.savedTemplateId != vm.templateId" class="btn btn-primary" ng-click="vm.persistTemplate(false, false);"
                    title="{{ 'TemplatePicker.Save' | translate }}" type="button">
                <i class="eav-icon-ok"></i>
            </button>
                <button ng-show="vm.undoTemplateId != null" class="btn btn-default" ng-click="vm.cancelTemplateChange();" type="button" title="{{ 'TemplatePicker.' + (vm.isContentApp ? 'Cancel' : 'Close') | translate }}">
                <i class="eav-icon-cancel"></i>
            </button>
            </div>
        </div>
    </ng-form>

    <div class="sc-loading" ng-show="vm.loading">
        <i class="eav-icon-spinner animate-spin"></i>
    </div>

    <!-- the auto-installer iframe, with spinner and everything -->
    <div style="position: relative;" ng-if="vm.showRemoteInstaller">
        <iframe id="frGettingStarted" ng-src="{{vm.remoteInstallerUrl}}" width="100%" height="300px"></iframe>
        <div class="sc-loading" id="pnlLoading" ng-if="vm.progressIndicator.show">
            <i class="eav-icon-spinner animate-spin"></i>
            <br>
            <br>
            <span class="sc-loading-label">
                installing <span id="packageName">{{vm.progressIndicator.label}}</span>
            </span>
        </div>
    </div>
</div>
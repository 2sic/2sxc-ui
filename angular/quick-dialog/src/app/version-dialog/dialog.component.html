 <mat-toolbar color="primary">
  <span class="title">{{"ItemHistory.Title" | translate}}</span>
  <span class="spacer"></span>
  <button mat-dialog-close mat-icon-button>
    <mat-icon class="example-icon">close</mat-icon>
  </button>
</mat-toolbar>

<div class="table">
  <div class="no-items" *ngIf="sxcVersion.error | async">{{'ItemHistory.NoHistory' | translate}}</div>
  <div class="no-items" *ngIf="(sxcVersion.versions | async)?.length === 0">{{'ItemHistory.NoHistory' | translate}}</div>
  <div class="record" *ngFor="let version of sxcVersion.versions | async">
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title fxFlex="108px">{{"ItemHistory.Version" | translate:({version:version.VersionNumber})}}</mat-panel-title>
        <mat-panel-description>{{version.TimeStamp}}</mat-panel-description>
      </mat-expansion-panel-header>
      <div class="detail">
        <div fxLayout="row" [class.changed]="data.hasChanged" *ngFor="let data of version.Data">
          <div fxFlex="160px" class="label">{{data.key}}:</div>
          <div fxFlex [class.expand]="data.expand" class="value" title="expand content" (click)="data.expand=!data.expand">
            <div class="lang-wrapper" *ngFor="let val of data.value">
              <div *ngIf="data.value.length > 0" class="lang">{{val[0]}}</div>
              <div [innerHTML]="val[1]"></div>
            </div>
          </div>
          <div flex="nogrow" *ngIf="data.value.length > 1">
            <i *ngFor="let val of data.value">[{{val[0]}}]&nbsp;</i>
          </div>
          <i flex="nogrow">[{{data.type}}]</i>
        </div>
      </div>
      <mat-action-row>
        <button mat-button (click)="restoreLive(version)">{{'ItemHistory.Buttons.RestoreLive' | translate}}</button>
      </mat-action-row>
    </mat-expansion-panel>
  </div>
</div>
